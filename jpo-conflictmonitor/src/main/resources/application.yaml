#General Properties
#==================
groupId: ^project.groupId^
artifactId: ^project.artifactId^
version: ^project.version^
server.port: 8082

# Kafka properties
spring.kafka.bootstrap-servers: localhost:9092

kafkaStateChangeEventTopic: topic.CmKafkaStateChangeEvents
appHealthNotificationTopic: topic.CmAppHealthNotifications

# Custom kafka properties
kafka.topics:
  autoCreateTopics: true  # Override auto-create in test properties
  numPartitions: 1
  numReplicas: 1
  createTopics:
    - name: topic.CmMapBroadcastRateEvents
      cleanupPolicy: delete
      retentionMs: 300000
    - name: topic.CmMapMinimumDataEvents
      cleanupPolicy: delete
      retentionMs: 300000
    - name: topic.CmSpatBroadcastRateEvents
      cleanupPolicy: delete
      retentionMs: 300000
    - name: topic.CmSpatMinimumDataEvents
      cleanupPolicy: delete
      retentionMs: 300000
    - name: topic.CMBsmEvents
      cleanupPolicy: delete
      retentionMs: 300000
    - name: topic.CmConnectionOfTravelEvent
      cleanupPolicy: delete
      retentionMs: 300000
    - name: topic.CmLaneDirectionOfTravelEvent
      cleanupPolicy: delete
      retentionMs: 300000
    - name: topic.CmSignalStateEvent
      cleanupPolicy: delete
      retentionMs: 300000
    - name: "topic.CmSignalStopEvent"
      cleanupPolicy: delete
      retentionMs: 300000
    - name: "topic.CmSignalGroupAlignmentEvents"
      cleanupPolicy: delete
      retentionMs: 300000
    - name: "topic.CmIntersectionReferenceAlignmentEvents"
      cleanupPolicy: delete
      retentionMs: 300000
    - name: "topic.CmSignalStateConflictEvents"
      cleanupPolicy: delete
      retentionMs: 300000
    - name: "topic.CmBsmJsonRepartition"
      cleanupPolicy: delete
      retentionMs: 300000
    - name: topic.ProcessedSpat
      cleanupPolicy: delete
      retentionMs: 300000
    - name: topic.ProcessedMap
      cleanupPolicy: delete
      retentionMs: 300000
    - name: topic.OdeBsmJson
      cleanupPolicy: delete
      retentionMs: 300000
    - name: topic.CmSignalStateEventAssessment
      cleanupPolicy: delete
      retentionMs: 300000
    - name: topic.CmLaneDirectionOfTravelNotification
      cleanupPolicy: delete
      retentionMs: 300000
    - name: topic.CmConnectionOfTravelNotification
      cleanupPolicy: delete
      retentionMs: 300000
    - name: topic.CmKafkaStateChangeEvents
      cleanupPolicy: delete
      retentionMs: 300000
    - name: topic.CmAppHealthNotifications
      cleanupPolicy: compact
    - name: topic.CmSpatTimeChangeDetailsNotification
      cleanupPolicy: delete
      retentionMs: 300000
    - name: topic.CmSignalStateConflictNotification
      cleanupPolicy: delete
      retentionMs: 300000
    - name: topic.CmSignalGroupAlignmentNotifications
      cleanupPolicy: delete
      retentionMs: 300000
    - name: topic.CmLaneDirectionOfTravelAssessment
      cleanupPolicy: delete
      retentionMs: 300000

# Connection of Travel
connection.of.travel:
  algorithm: defaultConnectionOfTravelAlgorithm
  debug: false

# Connection of Travel Assessment
connection.of.travel.assessment:
  algorithm: defaultConnectionOfTravelAssessmentAlgorithm
  debug: false
  connectionOfTravelEventTopicName: topic.CmConnectionOfTravelEvent
  connectionOfTravelAssessmentOutputTopicName: topic.CmConnectionOfTravelAssessment
  connectionOfTravelNotificationTopicName: topic.CmConnectionOfTravelNotification
  lookBackPeriodDays: 1
  lookBackPeriodGraceTimeSeconds: 60

intersection.event:
  algorithm: defaultIntersectionEventAlgorithm

# Lane Direction of Travel
lane.direction.of.travel:
  algorithm: defaultLaneDirectionOfTravelAlgorithm
  minimumPointsPerSegment: 5
  minimumSpeedThreshold: 5
  debug: false

# Lane Direction of Travel Assessment
lane.direction.of.travel.assessment:
  algorithm: defaultLaneDirectionOfTravelAssessmentAlgorithm
  debug: false
  laneDirectionOfTravelEventTopicName: topic.CmLaneDirectionOfTravelEvent
  laneDirectionOfTravelAssessmentOutputTopicName: topic.CmLaneDirectionOfTravelAssessment
  laneDirectionOfTravelNotificationOutputTopicName: topic.CmLaneDirectionOfTravelNotification
  lookBackPeriodDays: 1
  lookBackPeriodGraceTimeSeconds: 60
  headingToleranceDegrees: 20

# MAP/SPAT Message Assessment
map.spat.message.assessment:
  algorithm: defaultMapSpatMessageAssessmentAlgorithm
  debug: false
  mapInputTopicName: topic.ProcessedMap
  spatInputTopicName: topic.ProcessedSpat
  signalGroupAlignmentEventTopicName: topic.CmSignalGroupAlignmentEvents
  intersectionReferenceAlignmentEventTopicName: topic.CmIntersectionReferenceAlignmentEvents
  signalStateConflictEventTopicName: topic.CmSignalStateConflictEvents
  intersectionReferenceAlignmentNotificationTopicName: topic.CmIntersectionReferenceAlignmentNotifications
  signalGroupAlignmentNotificationTopicName: topic.CmSignalGroupAlignmentNotifications
  signalStateConflictNotificationTopicName: topic.CmSignalStateConflictNotification

# MAP Time Change Details
map.time.change.details:
  algorithm: defaultMapTimeChangeDetailsAlgorithm
  debug: false
  mapTimeChangeDetailsTopicName: topic.CmMapTimeChangeDetailsEvent
  mapTimeChangeDetailsStateStoreName: map-time-change-detail-state-store
  jitterBufferSize: 50

# MAP Validation
map.validation:
  algorithm: defaultMapValidationAlgorithm
  inputTopicName: topic.ProcessedMap
  broadcastRateTopicName: topic.CmMapBroadcastRateEvents
  minimumDataTopicName: topic.CmMapMinimumDataEvents
  rollingPeriodSeconds: 10
  outputIntervalSeconds: 5
  gracePeriodMilliseconds: 100
  lowerBound: 9
  upperBound: 11
  debug: false

# BSM Repartition
repartition:
  algorithm: defaultRepartitionAlgorithm
  debug: false
  bsmInputTopicName: topic.OdeBsmJson
  bsmRepartitionOutputTopicName: topic.BsmJsonRepartition

# Signal State Event Assessment
signal.state.event.assessment:
  algorithm: defaultSignalStateEventAssessmentAlgorithm
  debug: false
  signalStateEventTopicName: topic.CmSignalStateEvent
  signalStateEventAssessmentOutputTopicName: topic.CmsignalStateEventAssessment
  lookBackPeriodDays: 1
  lookBackPeriodGraceTimeSeconds: 60

# Signal State Vehicle Crosses Analytics
signal.state.vehicle.crosses:
  algorithm: defaultSignalStateVehicleCrossesAlgorithm
  debug: false
  spatBsmMatchWindowMillis: 500

# Signal State Vehicle Stops Analytics
signal.state.vehicle.stops:
  algorithm: defaultSignalStateVehicleStopsAlgorithm
  debug: false
  spatBsmMatchWindowMillis: 500
  stopSpeedThreshold: 5

# SPAT Time Change Details
spat.time.change.details:
  algorithm: defaultSpatTimeChangeDetailsAlgorithm
  notification.algorithm: defaultSpatTimeChangeNotificationAlgorithm
  debug: false
  spatInputTopicName: topic.ProcessedSpat
  spatTimeChangeDetailsTopicName: topic.CmSpatTimeChangeDetailsEvent
  spatTimeChangeDetailsStateStoreName: spat-time-change-detail-state-store
  spatTimeChangeDetailsNotificationTopicName: topic.CmSpatTimeChangeDetailsNotification
  jitterBufferSize: 50

# SPAT Validation
spat.validation:
  algorithm: defaultSpatValidationAlgorithm
  inputTopicName: topic.ProcessedSpat
  broadcastRateTopicName: topic.CmSpatBroadcastRateEvents
  minimumDataTopicName: topic.CmSpatMinimumDataEvents
  rollingPeriodSeconds: 10
  outputIntervalSeconds: 5
  gracePeriodMilliseconds: 100
  lowerBound: 90
  upperBound: 110
  debug: false

# Intersection Reference Alignment Notification
intersection.reference.alignment.notification:
  algorithm: defaultIntersectionReferenceAlignmentNotificationAlgorithm
  properties: debug

